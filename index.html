<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Financial Calculators</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }

      .container {
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 5px;
        padding: 20px;
      }

      .tabs {
        display: flex;
        border-bottom: 1px solid #ddd;
        margin-bottom: 20px;
      }

      .tab {
        padding: 10px 20px;
        cursor: pointer;
      }

      .tab.active {
        background-color: #f0f0f0;
        border-bottom: 2px solid blue;
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }

      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }

      th {
        background-color: #f0f0f0;
      }

      input,
      select {
        padding: 5px;
        margin-bottom: 10px;
        width: 200px;
      }

      button {
        padding: 8px 16px;
        background-color: blue;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Financial Calculators</h1>

      <div class="tabs">
        <div class="tab active" onclick="switchTab('scaling-calculator')">
          Trade % Profit
        </div>
        <div class="tab" onclick="switchTab('options-simulator')">
          100k Challenge
        </div>
      </div>

      <!-- Scaling Calculator Tab -->
      <div id="scaling-calculator" class="tab-content active">
        <h2>Scaling Calculator</h2>

        <div>
          <label for="base-value">Base Value ($):</label>
          <input id="base-value" type="number" step="0.01" value="1.27" />
        </div>

        <div>
          <label for="base-points">Base Points:</label>
          <input id="base-points" type="number" value="765" />
        </div>

        <button onclick="updateScalingTable()">Calculate</button>

        <table>
          <thead>
            <tr>
              <th>% Increase</th>
              <th>Price ($)</th>
              <th>Target Profit</th>
              <th>Difference</th>
            </tr>
          </thead>
          <tbody id="scaling-table-body">
            <!-- Table rows will be generated by JavaScript -->
          </tbody>
        </table>
      </div>

      <!-- Options Trading Simulator Tab -->
      <div id="options-simulator" class="tab-content">
        <h2>Options Trading Simulator</h2>

        <div>
          <label for="starting-capital">Starting Capital ($):</label>
          <input id="starting-capital" type="number" value="1300" />
        </div>

        <div>
          <label for="target-capital">Target Capital ($):</label>
          <input id="target-capital" type="number" value="100000" />
        </div>

        <div>
          <label for="return-rate">Return Rate (%):</label>
          <input id="return-rate" type="number" step="0.1" value="20" />
        </div>

        <div>
          <label for="period-type">Period Type:</label>
          <select id="period-type">
            <option value="daily">Daily</option>
            <option value="weekly">Weekly</option>
            <option value="monthly">Monthly</option>
          </select>
        </div>

        <button onclick="calculateGrowth()">Calculate Growth</button>

        <div id="results" style="margin-top: 20px">
          <p id="periods-result"></p>

          <table>
            <thead>
              <tr>
                <th>Period</th>
                <th>Starting Balance ($)</th>
                <th>Ending Balance ($)</th>
                <th>Profit ($)</th>
              </tr>
            </thead>
            <tbody id="growth-table-body">
              <!-- Table rows will be generated by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script>
      // Tab switching functionality
      function switchTab(tabId) {
        // Hide all tab contents
        document.querySelectorAll('.tab-content').forEach((content) => {
          content.classList.remove('active');
        });

        // Deactivate all tabs
        document.querySelectorAll('.tab').forEach((tab) => {
          tab.classList.remove('active');
        });

        // Activate the selected tab and content
        document.getElementById(tabId).classList.add('active');
        document
          .querySelector(`.tab[onclick="switchTab('${tabId}')"]`)
          .classList.add('active');
      }

      // Scaling Calculator functionality
      function updateScalingTable() {
        const baseValue =
          parseFloat(document.getElementById('base-value').value) || 1.27;
        const basePoints =
          parseFloat(document.getElementById('base-points').value) || 765;
        const tableBody = document.getElementById('scaling-table-body');

        // Clear existing table rows
        tableBody.innerHTML = '';

        // Generate new table rows
        for (let i = 0; i <= 20; i++) {
          const percentIncrease = i * 10;
          const price = baseValue * (1 + percentIncrease / 100);
          const points = (price / baseValue) * basePoints;
          const difference = points - basePoints;

          const row = document.createElement('tr');
          row.innerHTML = `
          <td>${percentIncrease}%</td>
          <td>$${price.toFixed(2)}</td>
          <td>$${points.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
          <td>$${percentIncrease === 0 ? '0' : difference.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
        `;

          tableBody.appendChild(row);
        }
      }

      // Options Trading Simulator functionality
      function calculateGrowth() {
        const startingCapital =
          parseFloat(document.getElementById('starting-capital').value) || 1300;
        const targetCapital =
          parseFloat(document.getElementById('target-capital').value) || 100000;
        const returnRate =
          parseFloat(document.getElementById('return-rate').value) || 20;
        const periodType = document.getElementById('period-type').value;

        // Calculate number of periods needed
        const r = returnRate / 100;
        const n = Math.ceil(
          Math.log(targetCapital / startingCapital) / Math.log(1 + r)
        );

        // Update results display
        document.getElementById(
          'periods-result'
        ).textContent = `It will take approximately ${n} ${periodType} periods to reach your target.`;

        // Generate growth table
        const tableBody = document.getElementById('growth-table-body');
        tableBody.innerHTML = '';

        let currentBalance = startingCapital;

        for (let i = 1; i <= Math.min(n); i++) {
          const startBalance = currentBalance;
          const profit = startBalance * r;
          currentBalance = startBalance + profit;

          const row = document.createElement('tr');
          row.innerHTML = `
          <td>Period ${i}</td>
          <td>$${startBalance.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
          <td>$${currentBalance.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
          <td>$${profit.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
        `;

          tableBody.appendChild(row);
        }
      }

      // Initialize the scaling table when the page loads
      document.addEventListener('DOMContentLoaded', updateScalingTable);
    </script>
  </body>
</html>
